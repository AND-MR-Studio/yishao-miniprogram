<!--pages/dialog.wxml-->
<view class="dialog-container {{visible ? 'visible' : 'hidden'}}" animation="{{animationData}}">
  <view class="page {{isPeekingSoup ? 'peek-soup' : ''}}">
    <!-- 导航栏 -->
    <nav-bar 
      id="navBar"
      soupId="{{soupId}}" 
      showBackButton="{{true}}"
      bind:back="handleClose"
    />
    
    <view class="container" bindlongpress="handleLongPress" bindtouchend="handleTouchEnd">
      <!-- 毛玻璃效果遮罩层 -->
      <view class="frosted-glass"></view>
      <!-- 对话区域 -->
      <dialog-area 
        id="dialogArea" 
        class="dialog-area-component" 
        messages="{{messages}}" 
        soupId="{{soupId}}"
        bind:messagesChange="handleMessagesChange"
      />
    </view>

    <!-- 输入栏组件 -->
    <input-bar
      inputValue="{{inputValue}}"
      inputFocus="{{inputFocus}}"
      bind:input="handleInput"
      bind:send="handleSend"
      bind:voice="handleVoice"
    />
  </view>
</view>